## Microblocks
![](https://www.robotistan.com/Data/EditorFiles/action-reaction.PNG)

##### [Click](https://microblocks.fun/run/microblocks.html#project=projectName%20%27Action%20Reaction%27%0A%0Amodule%20main%0Aauthor%20unknown%0Aversion%201%200%20%0Adescription%20%27%27%0A%0Ascript%2045%2061%20%7B%0AwhenCondition%20%28pb_button%29%0Apb_set_red_LED%20true%0A%7D%0A%0Ascript%2050%20184%20%7B%0AwhenCondition%20%28not%20%28pb_button%29%29%0Apb_set_red_LED%20false%0A%7D%0A%0A%0Amodule%20DHT%20Input%0Aauthor%20MicroBlocks%0Aversion%201%201%20%0Atags%20sensor%20dht11%20dht22%20temperature%20humidity%20%0Adescription%20%27Support%20for%20the%20DHT11%20and%20DHT22%20environmental%20sensors.%20These%20sensors%20provide%20temperature%20and%20humidity%20readings.%27%0Avariables%20_dht_temperature%20_dht_humidity%20_dhtData%20_dhtLastReadTime%20%0A%0A%20%20spec%20%27r%27%20%27temperature_DHT11%27%20%27temperature%20%28Celsius%29%20DHT11%20pin%20_%27%20%27auto%27%204%0A%20%20spec%20%27r%27%20%27humidity_DHT11%27%20%27humidity%20DHT11%20pin%20_%27%20%27auto%27%204%0A%20%20spec%20%27r%27%20%27temperature_DHT22%27%20%27temperature%20%28Celsius%29%20DHT22%20pin%20_%27%20%27auto%27%204%0A%20%20spec%20%27r%27%20%27humidity_DHT22%27%20%27humidity%20DHT22%20pin%20_%27%20%27auto%27%204%0A%20%20spec%20%27%20%27%20%27_dhtReadData%27%20%27_dhtReadData%20pin%20_%27%20%27auto%20any%27%204%0A%20%20spec%20%27r%27%20%27_dhtChecksumOkay%27%20%27_dhtChecksumOkay%27%20%27any%27%0A%20%20spec%20%27%20%27%20%27_dhtUpdate%27%20%27_dhtUpdate%20_%20isDHT11%20_%27%20%27auto%20bool%20any%27%204%20true%0A%20%20spec%20%27r%27%20%27_dhtReady%27%20%27_dhtReady%27%20%27any%27%0A%0Ato%20%27_dhtChecksumOkay%27%20%7B%0A%20%20local%20%27checksum%27%200%0A%20%20for%20i%204%20%7B%0A%20%20%20%20checksum%20%2B%3D%20%28at%20i%20_dhtData%29%0A%20%20%7D%0A%20%20checksum%20%3D%20%28checksum%20%26%20255%29%0A%20%20return%20%28checksum%20%3D%3D%20%28at%205%20_dhtData%29%29%0A%7D%0A%0Ato%20%27_dhtReadData%27%20pin%20%7B%0A%20%20comment%20%27Create%20DHT%20data%20array%20the%20first%20time%27%0A%20%20if%20%28_dhtData%20%3D%3D%200%29%20%7B%0A%20%20%20%20_dhtData%20%3D%20%28newList%205%29%0A%20%20%7D%0A%20%20comment%20%27Pull%20pin%20low%20for%20%3E18msec%20to%20request%20data%27%0A%20%20digitalWriteOp%20pin%20false%0A%20%20waitMillis%2020%0A%20%20local%20%27useDHTPrimitive%27%20%28booleanConstant%20true%29%0A%20%20if%20useDHTPrimitive%20%7B%0A%20%20%20%20result%20%3D%20%28%27%5Bsensors%3AreadDHT%5D%27%20pin%29%0A%20%20%20%20if%20%28%28booleanConstant%20false%29%20%21%3D%20result%29%20%7B%0A%20%20%20%20%20%20_dhtData%20%3D%20result%0A%20%20%20%20%7D%0A%20%20%20%20return%200%0A%20%20%7D%0A%20%20comment%20%27Read%20DHT%20start%20pulses%20%28H%20L%20H%20L%29%27%0A%20%20waitUntil%20%28digitalReadOp%20pin%29%0A%20%20waitUntil%20%28not%20%28digitalReadOp%20pin%29%29%0A%20%20waitUntil%20%28digitalReadOp%20pin%29%0A%20%20waitUntil%20%28not%20%28digitalReadOp%20pin%29%29%0A%20%20local%20%27i%27%201%0A%20%20local%20%27byte%27%200%0A%20%20local%20%27bit%27%201%0A%20%20comment%20%27Read%2040%20bits%20%285%20bytes%29%27%0A%20%20repeat%2040%20%7B%0A%20%20%20%20waitUntil%20%28digitalReadOp%20pin%29%0A%20%20%20%20local%20%27start%27%20%28microsOp%29%0A%20%20%20%20waitUntil%20%28not%20%28digitalReadOp%20pin%29%29%0A%20%20%20%20if%20%28%28%28microsOp%29%20-%20start%29%20%3E%2040%29%20%7B%0A%20%20%20%20%20%20comment%20%27Long%20pulse%20-%20append%20a%20%221%22%20bit%27%0A%20%20%20%20%20%20byte%20%2B%3D%201%0A%20%20%20%20%7D%0A%20%20%20%20if%20%28bit%20%3D%3D%208%29%20%7B%0A%20%20%20%20%20%20atPut%20i%20_dhtData%20byte%0A%20%20%20%20%20%20i%20%2B%3D%201%0A%20%20%20%20%20%20byte%20%3D%200%0A%20%20%20%20%20%20bit%20%3D%201%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20byte%20%3D%20%28byte%20%3C%3C%201%29%0A%20%20%20%20%20%20bit%20%2B%3D%201%0A%20%20%20%20%7D%0A%20%20%20%20waitUntil%20%28not%20%28digitalReadOp%20pin%29%29%0A%20%20%7D%0A%7D%0A%0Ato%20%27_dhtReady%27%20%7B%0A%20%20local%20%27elapsed%27%20%28%28millisOp%29%20-%20_dhtLastReadTime%29%0A%20%20return%20%28or%20%28elapsed%20%3C%200%29%20%28elapsed%20%3E%202000%29%29%0A%7D%0A%0Ato%20%27_dhtUpdate%27%20pin%20isDHT11%20%7B%0A%20%20if%20%28%27_dhtReady%27%29%20%7B%0A%20%20%20%20%27_dhtReadData%27%20pin%0A%20%20%20%20_dhtLastReadTime%20%3D%20%28millisOp%29%0A%20%20%7D%0A%20%20if%20%28%27_dhtChecksumOkay%27%29%20%7B%0A%20%20%20%20if%20isDHT11%20%7B%0A%20%20%20%20%20%20_dht_temperature%20%3D%20%28at%203%20_dhtData%29%0A%20%20%20%20%20%20_dht_humidity%20%3D%20%28at%201%20_dhtData%29%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20local%20%27n%27%20%28%28%28at%201%20_dhtData%29%20%2A%20256%29%20%2B%20%28at%202%20_dhtData%29%29%0A%20%20%20%20%20%20_dht_humidity%20%3D%20%28%28n%20%2B%205%29%20%2F%2010%29%0A%20%20%20%20%20%20n%20%3D%20%28%28%28%28at%203%20_dhtData%29%20%26%20127%29%20%2A%20256%29%20%2B%20%28at%204%20_dhtData%29%29%0A%20%20%20%20%20%20if%20%28%28%28at%203%20_dhtData%29%20%26%20128%29%20%21%3D%200%29%20%7B%0A%20%20%20%20%20%20%20%20n%20%3D%20%280%20-%20n%29%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20_dht_temperature%20%3D%20%28%28n%20%2B%205%29%20%2F%2010%29%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0Ato%20humidity_DHT11%20pin%20%7B%0A%20%20%27_dhtUpdate%27%20pin%20true%0A%20%20return%20_dht_humidity%0A%7D%0A%0Ato%20humidity_DHT22%20pin%20%7B%0A%20%20%27_dhtUpdate%27%20pin%20false%0A%20%20return%20_dht_humidity%0A%7D%0A%0Ato%20temperature_DHT11%20pin%20%7B%0A%20%20%27_dhtUpdate%27%20pin%20true%0A%20%20return%20_dht_temperature%0A%7D%0A%0Ato%20temperature_DHT22%20pin%20%7B%0A%20%20%27_dhtUpdate%27%20pin%20false%0A%20%20return%20_dht_temperature%0A%7D%0A%0A%0Amodule%20PicoBricks%20Output%0Aauthor%20%27Turgut%20Guneysu%27%0Aversion%202%201%20%0Adepends%20DHT%20%0Adescription%20%27Robotistan%20PicoBricks%20Library%0A%0AThis%20library%20controls%20these%20Pico%20Bricks%20components%3A%0A-%20Red%20LED%0A-%20RGB%20LED%0A-%20DC%20Motors%0A-%20Piezo%20speaker%0A-%20Relay%20Switch%20%285V-250V%2C%205A%29%0A-%20Button%0A-%20Potentiometer%20%28variable%20resistor%29%0A-%20Light%20sensor%20%28light%20dependent%20resistor%29%0A-%20Temperature%20and%20humidity%20sensor%20%28DHT11%29%0A%0AUse%20separate%20librares%20to%20control%3A%0A-%20Servo%20motors%0A-%20Graphic%20display%20%28OLED%29%0A-%20WIFI%2FBluetooth%20expansion%20board%0A%0ASee%20https%3A%2F%2Fwww.robotistan.com%2C%20%0Ahttps%3A%2F%2Fwiki.microblocks.fun%2Fboards%2Fpico%0A%27%0Avariables%20_pb_initialized%20_pb_pin_RedLED%20_pb_pin_Button%20_pb_pin_DHT%20_pb_pin_Relay%20_pb_pin_Pot%20_pb_pin_LDR%20_pb_pin_Buzzer%20_pb_pin_Motor1%20_pb_pin_Motor2%20_pb_pin_RGB_LED%20_pb_pin_TX%20_pb_pin_RX%20_pb_i2c_Addr%20%0A%0A%20%20spec%20%27%20%27%20%27pb_beep%27%20%27PicoBricks%20beep%20_%20ms%27%20%27auto%27%20500%0A%20%20spec%20%27r%27%20%27pb_button%27%20%27PicoBricks%20button%27%0A%20%20spec%20%27r%27%20%27pb_humidity%27%20%27PicoBricks%20humidity%27%0A%20%20spec%20%27r%27%20%27pb_light_sensor%20%280-100%29%20%25%27%20%27PicoBricks%20light%20sensor%20%280-100%29%20%25%27%0A%20%20spec%20%27r%27%20%27pb_potentiometer%27%20%27PicoBricks%20potentiometer%27%0A%20%20spec%20%27r%27%20%27pb_random_color%27%20%27PicoBricks%20random%20color%27%0A%20%20spec%20%27r%27%20%27pb_rgb_color%27%20%27PicoBricks%20color%20r%20_%20g%20_%20b%20_%20%280-255%29%27%20%27auto%20auto%20auto%27%200%200%200%0A%20%20spec%20%27%20%27%20%27pb_set_motor_speed%27%20%27PicoBricks%20set%20motor%20_%20speed%20_%20%280-100%29%27%20%27auto%20num%27%201%20100%0A%20%20spec%20%27%20%27%20%27pb_set_red_LED%27%20%27PicoBricks%20set%20red%20LED%20_%27%20%27bool%27%20true%0A%20%20spec%20%27%20%27%20%27pb_set_relay%27%20%27PicoBricks%20set%20relay%20_%27%20%27bool%27%20true%0A%20%20spec%20%27%20%27%20%27pb_set_rgb_color%27%20%27PicoBricks%20set%20RGB%20LED%20color%20_%27%20%27color%27%0A%20%20spec%20%27r%27%20%27pb_temperature%27%20%27PicoBricks%20temperature%20%28%C2%B0C%29%27%0A%20%20spec%20%27%20%27%20%27pb_turn_off_RGB%27%20%27PicoBricks%20turn%20off%20RGB%20LED%27%0A%20%20spec%20%27r%27%20%27_pb_rescale%27%20%27_pb_rescale%20_%20from%20%20%28%20_%20%2C%20_%20%29%20to%20%28%20_%20%2C%20_%20%29%27%20%27auto%20auto%20auto%20auto%20auto%27%200%200%200%200%200%0A%20%20spec%20%27%20%27%20%27_pb_init_pins%27%20%27_pb_init_pins%27%0A%20%20spec%20%27r%27%20%27pb_light_sensor%27%20%27obsolete%20PicoBricks%20light%20sensor%27%0A%0Ato%20%27_pb_init_pins%27%20%7B%0A%20%20if%20_pb_initialized%20%7Breturn%7D%0A%20%20_pb_pin_RGB_LED%20%3D%206%0A%20%20_pb_pin_RedLED%20%3D%207%0A%20%20_pb_pin_Button%20%3D%2010%0A%20%20_pb_pin_DHT%20%3D%2011%0A%20%20_pb_pin_Relay%20%3D%2012%0A%20%20_pb_pin_Buzzer%20%3D%2020%0A%20%20_pb_pin_Motor1%20%3D%2021%0A%20%20_pb_pin_Motor2%20%3D%2022%0A%20%20_pb_pin_Pot%20%3D%2026%0A%20%20_pb_pin_LDR%20%3D%2027%0A%20%20_pb_pin_TX%20%3D%200%0A%20%20_pb_pin_RX%20%3D%201%0A%20%20_pb_i2c_Addr%20%3D%20%273C%27%0A%20%20_pb_initialized%20%3D%20%28booleanConstant%20true%29%0A%7D%0A%0Ato%20%27_pb_rescale%27%20val%20in_min%20in_max%20out_min%20out_max%20%7B%0A%20%20comment%20%27map%28long%20val%2C%20long%20in_min%2C%20long%20in_max%2C%20long%20out_min%2C%20long%20out_max%29%20%7B%0A%20%20return%20%28val%20-%20in_min%29%20%2A%20%28out_max%20-%20out_min%29%20%2F%20%28in_max%20-%20in_min%29%20%2B%20out_min%3B%0A%7D%27%0A%20%20return%20%28%28%28%28val%20-%20in_min%29%20%2A%20%28out_max%20-%20out_min%29%29%20%2F%20%28in_max%20-%20in_min%29%29%20%2B%20out_min%29%0A%7D%0A%0Ato%20pb_beep%20duration%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20local%20%27end%20time%27%20%28%28millisOp%29%20%2B%20duration%29%0A%20%20repeatUntil%20%28%28millisOp%29%20%3E%3D%20%28v%20%27end%20time%27%29%29%20%7B%0A%20%20%20%20digitalWriteOp%20_pb_pin_Buzzer%20true%0A%20%20%20%20waitMicros%201900%0A%20%20%20%20digitalWriteOp%20_pb_pin_Buzzer%20false%0A%20%20%20%20waitMicros%201900%0A%20%20%7D%0A%7D%0A%0Ato%20pb_button%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20return%20%28digitalReadOp%20_pb_pin_Button%29%0A%7D%0A%0Ato%20pb_humidity%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20%27_dhtUpdate%27%20_pb_pin_DHT%20true%0A%20%20return%20_dht_humidity%0A%7D%0A%0Ato%20%27pb_light_sensor%20%280-100%29%20%25%27%20%7B%0A%20%20comment%20%27Returns%20Light%20Values%20s%20a%20percentage%3A%0A0%3A%20dark%2C%20%20100%3A%20light%27%0A%20%20%27_pb_init_pins%27%0A%20%20return%20%28%27_pb_rescale%27%20%281023%20-%20%28analogReadOp%20_pb_pin_LDR%29%29%200%201023%200%20100%29%0A%7D%0A%0Ato%20pb_potentiometer%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20return%20%28analogReadOp%20_pb_pin_Pot%29%0A%7D%0A%0Ato%20pb_random_color%20%7B%0A%20%20local%20%27n1%27%20%28random%20100%20200%29%0A%20%20local%20%27n2%27%20%28random%200%20100%29%0A%20%20if%20%281%20%3D%3D%20%28random%201%203%29%29%20%7B%0A%20%20%20%20return%20%28%28n1%20%3C%3C%2016%29%20%7C%20%28n2%20%3C%3C%208%29%29%0A%20%20%7D%20%281%20%3D%3D%20%28random%201%202%29%29%20%7B%0A%20%20%20%20return%20%28%28n2%20%3C%3C%2016%29%20%7C%20n1%29%0A%20%20%7D%20else%20%7B%0A%20%20%20%20return%20%28%28n1%20%3C%3C%208%29%20%7C%20n2%29%0A%20%20%7D%0A%7D%0A%0Ato%20pb_rgb_color%20r%20g%20b%20%7B%0A%20%20r%20%3D%20%28maximum%200%20%28minimum%20r%20255%29%29%0A%20%20g%20%3D%20%28maximum%200%20%28minimum%20g%20255%29%29%0A%20%20b%20%3D%20%28maximum%200%20%28minimum%20b%20255%29%29%0A%20%20return%20%28%28%28r%20%3C%3C%2016%29%20%7C%20%28g%20%3C%3C%208%29%29%20%7C%20b%29%0A%7D%0A%0Ato%20pb_set_motor_speed%20which%20speed%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20speed%20%3D%20%28maximum%200%20%28minimum%20speed%20100%29%29%0A%20%20if%20%28which%20%3D%3D%201%29%20%7B%0A%20%20%20%20analogWriteOp%20_pb_pin_Motor1%20%28%281023%20%2A%20speed%29%20%2F%20100%29%0A%20%20%7D%20%28which%20%3D%3D%202%29%20%7B%0A%20%20%20%20analogWriteOp%20_pb_pin_Motor2%20%28%281023%20%2A%20speed%29%20%2F%20100%29%0A%20%20%7D%0A%7D%0A%0Ato%20pb_set_red_LED%20aBoolean%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20digitalWriteOp%20_pb_pin_RedLED%20aBoolean%0A%7D%0A%0Ato%20pb_set_relay%20aBoolean%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20digitalWriteOp%20_pb_pin_Relay%20aBoolean%0A%7D%0A%0Ato%20pb_set_rgb_color%20color%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20%27%5Bdisplay%3AneoPixelSetPin%5D%27%20_pb_pin_RGB_LED%20false%0A%20%20%27%5Bdisplay%3AneoPixelSend%5D%27%20color%0A%7D%0A%0Ato%20pb_temperature%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20%27_dhtUpdate%27%20_pb_pin_DHT%20true%0A%20%20return%20_dht_temperature%0A%7D%0A%0Ato%20pb_turn_off_RGB%20%7B%0A%20%20%27_pb_init_pins%27%0A%20%20%27%5Bdisplay%3AneoPixelSetPin%5D%27%20_pb_pin_RGB_LED%20false%0A%20%20%27%5Bdisplay%3AneoPixelSend%5D%27%200%0A%7D%0A%0A "Click") to access Microblocks codes of the project.
